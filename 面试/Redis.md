# 认识Redis

## 什么是Redis？

Redis是一种基于内存的数据库，对数据的读写操作都是在内存中完成，因此**读写速度**非常快，常用于**缓存，消息队列，分布式锁等场景**。

Redis提供了多种数据类型来支持不同的业务场景，比如String(字符串)，Hash(哈希)，List(列表)，Set(集合)，Zest(有序集合)，Bitmaps(位图)，HypeerLogLog(基数统计)，GEO(地理信息)，Stream(流)，并且对数据类型的操作都是**原子性**的，因为执行命令由单线程负责，不存在并发竞争的问题。

另外，Redis还支持**事务，持久化，Lua脚本，多种集群方案（主从复制模式，哨兵模式，切片机群模式)，发布/订阅模式，内存淘汰机制，过期删除机制。**

## Redis和Memcached有什么区别？

**共同点：**

- 都是基于内存的数据库，一般都用来做缓存使用。
- 都有过期策略
- 两者的性能都非常高

**区别：**

- Redis支持的类型更加丰富，而Memcached支持最简单的key-value数据类型。
- Redis支持数据的持久化，可以将内存中的数据保持在磁盘中，重启的时候可以再次加载进行使用，而Memcached没有持久化功能，数据全部存在内存之中，Memcached重启或者挂掉之后，数据就没了。
- Redis原生支持集群模式，Memcached没有元素的集群模式，需要依靠客户端来实现集群中分片写入数据；
- Redis支持发布订阅模型，Lua脚本，事务等功能，而Memcached不支持。

## 为什么用Redis作为MySQL的缓存

Redis具备「高性能」和「高并发」两种特性。

# Redis数据结构

## Redis数据类型以及使用场景分别是什么？

常见的五种数据类型：**String (字符串)，Hash(哈希)，List(列表)，Set(集合)，Zset(有序集合)**。随着Redis版本的更新，后面又新增了BitMap(2.2)，HyperLogLog(2.8)，GEO(3.2)，Stream(5.0)

**应用场景：**

- String：缓存对象，常规计数，分布式锁，共享session信息。
- List：消息队列（但又两个问题：1.生产者需要自行实现全局唯一ID，2.不能以消费组形式消费数据）等
- Hash：缓存对象，购物车等
- Set：聚合计算（交集，并集，差集）场景，比如点赞，共同关注，抽奖活动
- Zset类型：排序场景，比如排行榜，电话和姓名排序
- BitMap：二值状态统计的场景，比如签到，判断用户登录状态，连续签到用户总数等；
- HyperLogLog：海量数据基数统计的场景，比如百万级网页UV计数等
- Stream：消息队列，相比于基于 List 类型实现的消息队列，有这两个特有的特性：自动生成全局唯一消息ID，支持以消费组形式消费数据。

## 五种常见的Redis数据类型是怎么实现的？

# Redis线程模型

## Redis是单线程吗

Redis单线程指的是「接受客户端请求->解析请求->进行数据读写等操作->发送数据给客户端」这个过程是由一个线程（主线程）来完成的，这也是常说Redis是单线程的原因。

