> **面试官**：Redis是单线程的，但是为什么还那么快？
>
> **候选人**：
>
> 嗯，这个有几个原因吧~~~
>
> 1、完全基于内存的，C语言编写
>
> 2、采用单线程，避免不必要的上下文切换可竞争条件
>
> 3、使用多路I/O复用模型，非阻塞IO
>
> 例如：bgsave 和 bgrewriteaof  都是在**后台**执行操作，不影响主线程的正常使用，不会产生阻塞
>
> **面试官**：能解释一下I/O多路复用模型？
>
> **候选人**：嗯~~，I/O多路复用是指利用单个线程来同时监听多个Socket ，并在某个Socket可读、可写时得到通知，从而避免无效的等待，充分利用CPU资源。目前的I/O多路复用都是采用的epoll模式实现，它会在通知用户进程Socket就绪的同时，把已就绪的Socket写入用户空间，不需要挨个遍历Socket来判断是否就绪，提升了性能。
>
> 其中Redis的网络模型就是使用I/O多路复用结合事件的处理器来应对多个Socket请求，比如，提供了连接应答处理器、命令回复处理器，命令请求处理器；
>
> 在Redis6.0之后，为了提升更好的性能，在命令回复处理器使用了多线程来处理回复事件，在命令请求处理器中，将命令的转换使用了多线程，增加命令转换速度，在命令执行的时候，依然是单线程