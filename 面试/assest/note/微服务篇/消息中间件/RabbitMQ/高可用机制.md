> **面试官**：RabbitMQ的高可用机制有了解过嘛
>
> **候选人**：
>
> 嗯，熟悉的~
>
> 我们当时项目在生产环境下，使用的集群，当时搭建是镜像模式集群，使用了3台机器。
>
> 镜像队列结构是一主多从，所有操作都是主节点完成，然后同步给镜像节点，如果主节点宕机后，镜像节点会替代成新的主节点，不过在主从同步完成前，主节点就已经宕机，可能出现数据丢失
>
> **面试官**：那出现丢数据怎么解决呢？
>
> **候选人**：
>
> 我们可以采用仲裁队列，与镜像队列一样，都是主从模式，支持主从数据同步，主从同步基于Raft协议，强一致。
>
> 并且使用起来也非常简单，不需要额外的配置，在声明队列的时候只要指定这个是仲裁队列即可