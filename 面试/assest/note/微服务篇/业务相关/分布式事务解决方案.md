> **面试官：**你们采用哪种分布式事务解决方案？
>
> **候选人：**
>
> 我们当时是xx项目，主要使用到的seata的at模式解决的分布式事务
>
> seata的AT模型分为两个阶段：
>
> 1、阶段一RM的工作：① 注册分支事务  ② 记录undo-log（数据快照）③ 执行业务sql并提交 ④报告事务状态
>
> 2、阶段二提交时RM的工作：删除undo-log即可
>
> 3、阶段二回滚时RM的工作：根据undo-log恢复数据到更新前
>
> at模式牺牲了一致性，保证了可用性，不过，它保证的是最终一致性